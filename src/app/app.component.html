<div class="px-1 py-1">
  <div class="card px-1 py-1">
    <form>
      <label for="textInput" hidden>Transponder</label>
      <input type="text" id="textInput" [(ngModel)]="chipInput" name="textInput"
        placeholder="Transponder, bijv. 'AB-12345'">
    </form>
    <button (click)="onClick(chipInput)">Ophalen</button>
    <span class="text-error mx-1" *ngIf="errorMessage">
      {{errorMessage}}
    </span>
  </div>
</div>




<ng-container *ngIf="(currentActivity$ |async ) as currentActivity">
  <activitystats [currentActivity]="currentActivity" *ngIf="currentActivity?.activityDetails?.stats"
    (nextActivity)="selectNextActivity()" (prevActivity)="selectPrevActivity()" />
  <lapchart [sessions]="currentActivity.activityDetails.sessions ||[]" [yAxisMinMax]="[25, 120]" />
  <speedchart [sessions]="currentActivity.activityDetails.sessions ||[]" [yAxisMinMax]="[5, 40]" />
</ng-container>

<div class="px-1 py-1" *ngIf="(currentActivity$ | async) as currentActivity">
  <div class="card" *ngIf="(allActivities$ | async) as activities">
    <div *ngFor="let activity of activities" (click)="handleAct(activity)"
      [ngClass]="{'activity': true, 'current-activity': currentActivity.activityId === activity.activityId,'px-1 py-1':true }">

      <h4 [ngClass]="{'current-activity-title': currentActivity.activityId === activity.activityId}">
        {{activity.location?.name}}</h4>

      <div>
        <p> {{activity.startTime | date: 'dd MMMM yyyy'}}</p>
        <p> {{activity.startTime | date: 'HH:mm'}} - {{activity.endTime| date: 'HH:mm'}} </p>
      </div>

      <div>
        <p> {{activity.activityDetails.stats?.lapCount}} ronden</p>

      </div>

    </div>

  </div>
</div>